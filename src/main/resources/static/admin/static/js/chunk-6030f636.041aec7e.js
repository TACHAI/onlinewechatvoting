(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6030f636"],{"386b":function(e,t,n){var a=n("5ca1"),r=n("79e5"),i=n("be13"),s=/"/g,l=function(e,t,n,a){var r=String(i(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+String(a).replace(s,"&quot;")+'"'),l+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(l),a(a.P+a.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},b54a:function(e,t,n){"use strict";n("386b")("link",(function(e){return function(t){return e(this,"a","href",t)}}))},c411:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-upload",{attrs:{size:"small",action:e.uploadUrl,"file-list":e.fileList,accept:"video/*",limit:1,multiple:"",name:e.uploadName,headers:e.headers,"on-remove":e.handleUploadRemove,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"before-upload":e.handleUploadBefore}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传视频文件")])],1)],1)},r=[],i=(n("3b2b"),n("20d6"),n("b54a"),n("28a5"),{model:{prop:"value",event:"changeValue"},props:{headers:{type:Object,default:function(){return{Authorization:this.$store.getters.token}}},uploadName:{type:String,default:"file"},fileList:{type:Array,default:function(){return[]}},uploadUrl:{type:String,default:"/api/upload/uploadVideo"},value:{type:String,default:""}},data:function(){return{}},methods:{handleUploadBefore:function(e){var t=e.type;if(!/^video\//.test(t))return this.$message.warning("请上传视频"),!1},handleUploadRemove:function(e,t){var n,a=this.value.split(",").filter((function(e){return""!==e}));n=e.response?e.response.link:e.url;var r=a.findIndex((function(e){return new RegExp(e+"$").test(n)}));-1!==r&&a.splice(r,1);var i=a.join(",");this.$emit("changeValue",i)},handleUploadSuccess:function(e,t,n){if(200===e.status){this.$message({message:e.msg||"上传成功",type:"success",duration:1e3});var a=this.value.split(",").filter((function(e){return""!==e}));a.push(e.link);var r=a.join(",");this.$emit("changeValue",r)}else this.$message({message:e.msg||"上传失败",type:"warning",duration:2e3})},handleUploadError:function(e){this.$message({message:e.msg||"上传出错",type:"error",duration:2e3})}}}),s=i,l=n("2877"),o=Object(l["a"])(s,a,r,!1,null,null,null);t["default"]=o.exports}}]);