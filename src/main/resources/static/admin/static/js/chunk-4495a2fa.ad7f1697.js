(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4495a2fa"],{6244:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return m}));var a=n("b775"),i=n("4328"),r=n.n(i),c="/api/back/activity/add",s="/api/back/activity/update",u="/api/back/activity/listByPage",l="/api/back/activity/status",o="/api/back/activity/deleteById",d="/api/back/activity/selectById";function f(t){return Object(a["a"])({url:c,method:"POST",data:r.a.stringify(t)})}function p(t){return Object(a["a"])({url:s,method:"POST",data:r.a.stringify(t)})}function b(t){return Object(a["a"])({url:o,method:"GET",params:{id:t}})}function h(t){return Object(a["a"])({url:l,method:"GET",params:{id:t}})}function v(t,e){return Object(a["a"])({url:u,method:"GET",params:{pageSize:t,pageNumber:e}})}function m(t){return Object(a["a"])({url:d,method:"GET",params:{id:t}})}},8219:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vote-theme-page"},[n("div",{staticClass:"operation-top",staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.$router.push("/active/edit/default")}}},[t._v("新增")])],1),t._v(" "),n("c-table",{ref:"table",attrs:{handler:t.getData},on:{handlerlist:t.handlerList}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,border:""}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"投票活动名称"}}),t._v(" "),n("el-table-column",{attrs:{label:"活动封面",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.image?n("el-image",{attrs:{src:t.baseUrl+a.image,fit:"contain"}}):n("span",[t._v("暂无活动封面")])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"活动截止时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",[t._v(t._s(t._f("datetimeFormat")(a.activityTime)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-tag",{attrs:{type:0===a.type?"warning":""}},[t._v(t._s(0===a.type?"用户活动":"本馆活动"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-tag",{attrs:{type:1===a.status?"danger":"success"}},[t._v(t._s(1===a.status?"下架":"上架"))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-view"},on:{click:function(e){return t.handleClickTo(a.type,a.id)}}},[t._v("作品列表")]),t._v(" "),n("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-shop"},on:{click:function(e){return t.handleClickStatus(a.id)}}},[t._v("上/下架")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.$router.push("/active/edit/"+a.id)}}},[t._v("修改")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.handleClickDelete(a.id)}}},[t._v("删除")])]}}])})],1)],1)],1)},i=[],r=(n("96cf"),n("1da1")),c=n("6244"),s={name:"Active",components:{CTable:function(){return n.e("chunk-ceebb038").then(n.bind(null,"0e36"))}},data:function(){return{dataList:[],baseUrl:""}},methods:{handleClickTo:function(t,e){this.$router.push("/active/list/"+t+"/"+e)},handleClickStatus:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._globalLoading("正在切换上下架状态"),t.next=3,Object(c["e"])(e);case 3:n=t.sent,this.$message.success(n.msg||"更新状态成功"),this.$refs.table.getData();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleClickDelete:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._globalLoading("正在进行删除操作"),t.next=3,Object(c["b"])(e);case 3:n=t.sent,this.$message.success(n.msg||"删除成功"),this.$refs.table.getData();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handlerList:function(t){this.dataList=t},getData:function(){return c["c"]}}},u=s,l=n("2877"),o=Object(l["a"])(u,a,i,!1,null,null,null);e["default"]=o.exports}}]);