(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eeddad2"],{"9b41":function(t,e,a){"use strict";a.d(e,"d",(function(){return p})),a.d(e,"a",(function(){return b})),a.d(e,"f",(function(){return f})),a.d(e,"b",(function(){return m})),a.d(e,"e",(function(){return h})),a.d(e,"c",(function(){return v}));var n=a("b775"),r=a("4328"),i=a.n(r),c="/api/back/work/listByPage",s="/api/back/work/add",u="/api/back/work/update",l="/api/back/work/deleteById",o="/api/back/work/status",d="/api/back/work/selectById";function p(t,e,a,r,i){return Object(n["a"])({url:c,method:"GET",params:{pageSize:t,pageNumber:e,activityId:a,selectType1:r,selectType2:i}})}function b(t){return Object(n["a"])({url:s,method:"POST",data:i.a.stringify(t)})}function f(t){return Object(n["a"])({url:u,method:"POST",data:i.a.stringify(t)})}function m(t){return Object(n["a"])({url:l,method:"GET",params:{id:t}})}function h(t){return Object(n["a"])({url:o,method:"GET",params:{id:t}})}function v(t){return Object(n["a"])({url:d,method:"GET",params:{id:t}})}},d826:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"active-list-local-page"},[a("el-page-header",{staticStyle:{padding:"10px 20px 20px"},attrs:{content:"作品列表"},on:{back:function(e){return t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"page-container"},[a("div",{staticClass:"operation-top",staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(e){return t.$router.push("/active/work/edit/"+t.$route.params.activeId+"/default")}}},[t._v("新增")])],1),t._v(" "),a("c-table",{ref:"table",attrs:{customData:[t.$route.params.activeId],handler:t.getData},on:{handlerlist:t.handlerList}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"作品名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"封面",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.image?a("el-image",{attrs:{src:t.baseUrl+n.image,fit:"contain"}}):a("span",[t._v("暂无活动封面")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者"}}),t._v(" "),a("el-table-column",{attrs:{label:"票数"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.votes||0)+"（票）")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-tag",{attrs:{type:1===n.status?"danger":"success"}},[t._v(t._s(1===n.status?"下架":"上架"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t._f("datetimeFormat")(n.createTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-shop"},on:{click:function(e){return t.handleClickStatus(n.id)}}},[t._v("上/下架")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.$router.push("/active/work/edit/"+n.activityId+"/"+n.id)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.handleClickDelete(n.id)}}},[t._v("删除")])]}}])})],1)],1)],1)],1)},r=[],i=(a("96cf"),a("1da1")),c=a("9b41"),s={name:"ActiveListLocal",components:{CTable:function(){return a.e("chunk-ceebb038").then(a.bind(null,"0e36"))}},data:function(){return{dataList:[],baseUrl:""}},created:function(){},methods:{getData:function(){return c["d"]},handlerList:function(t){this.dataList=t},handleClickDelete:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._globalLoading("正在进行删除操作"),t.next=3,Object(c["b"])(e);case 3:a=t.sent,this.$message.success(a.msg||"删除成功"),this.$refs.table.getData();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleClickStatus:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._globalLoading("正在切换上下架状态"),t.next=3,Object(c["e"])(e);case 3:a=t.sent,this.$message.success(a.msg||"更新状态成功"),this.$refs.table.getData();case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},u=s,l=a("2877"),o=Object(l["a"])(u,n,r,!1,null,"64d2b35a",null);e["default"]=o.exports}}]);